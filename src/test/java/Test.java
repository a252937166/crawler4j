import com.java1234.crawler.ImageBean;
import org.htmlparser.Node;
import org.htmlparser.NodeFilter;
import org.htmlparser.Parser;
import org.htmlparser.filters.CssSelectorNodeFilter;
import org.htmlparser.tags.ImageTag;
import org.htmlparser.tags.LinkTag;
import org.htmlparser.util.NodeList;
import org.htmlparser.util.ParserException;

/**
 * Created by Ouyang on 2017/5/17.
 */
public class Test {
    public static void main(String[] args) {
        try {
            Parser parser = new Parser("<html xmlns=\"http://www.w3.org/1999/xhtml\"><head><meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\"><title>食戟之灵216话-食戟之灵漫画-附田祐斗,佐伯俊 - 57漫画网</title><meta name=\"keywords\" content=\"食戟之灵216话,食戟之灵漫画,食戟之灵在线漫画,附田祐斗,佐伯俊\"><meta name=\"description\" content=\"57漫画网提供食戟之灵216话在线漫画观看。食戟之灵是作者附田祐斗,佐伯俊创作的漫画。食戟之灵简介：食戟之灵漫画。此作品的舞台是位于东京内的一所料理名校“远月学园”，国中毕业之后为··\"><meta name=\"mobile-agent\" content=\"format=html5;url=http://m.57mh.com/482/0252.html\"><link rel=\"canonical\" href=\"http://www.57mh.com/482/0252.html\"><link rel=\"stylesheet\" type=\"text/css\" href=\"http://i.57mh.com/templates/wuqi/default/css/base.css?v=1.0.2\"><link rel=\"stylesheet\" type=\"text/css\" href=\"http://i.57mh.com/templates/wuqi/default/css/chapter.css?v=1.0.2\"><link rel=\"stylesheet\" type=\"text/css\" href=\"http://i.57mh.com/templates/wuqi/style/css/buser.css?v=1.0.2\"><link rel=\"stylesheet\" type=\"text/css\" href=\"http://i.57mh.com/templates/wuqi/style/css/userbox.css?v=1.0.2\"><script src=\"https://hm.baidu.com/hm.js?e5cbbbc23477a453674179167531e9da\"></script><script type=\"text/javascript\" src=\"http://i.57mh.com/templates/wuqi/default/scripts/jquery.js?v=1.0.3\"></script><script type=\"text/javascript\" src=\"http://i.57mh.com/templates/wuqi/default/scripts/configs.js?v=1.0.3\"></script><script type=\"text/javascript\" src=\"http://i.57mh.com/templates/wuqi/default/scripts/main2.js?v=1.0.3\"></script><script type=\"text/javascript\" src=\"http://i.57mh.com/templates/wuqi/default/scripts/core.js?v=1.0.3\"></script><script type=\"text/javascript\" src=\"http://i.57mh.com/templates/wuqi/style/js/playclass.js?v=1.0.3\"></script><link rel=\"shortcut icon\" href=\"http://www.57mh.com/favicon.ico\" type=\"image/icon\"><meta name=\"application-name\" content=\"57漫画网\"><meta name=\"msapplication-tooltip\" content=\"57漫画网\"><meta name=\"msapplication-task\" content=\"name=首页;action-uri=/;icon-uri=/favicon.ico\"><!--[if IE 6]><script type=\"text/javascript\">document.execCommand(\"BackgroundImageCache\", false, true);</script><![endif]--><script src=\"http://bdimg.share.baidu.com/static/js/logger.js?cdnversion=415547\"></script><link href=\"http://bdimg.share.baidu.com/static/css/bdsstyle.css?cdnversion=20131219\" rel=\"stylesheet\" type=\"text/css\"></head><body><iframe frameborder=\"0\" style=\"display: none;\"></iframe><div id=\"bdshare_s\" style=\"display: block;\"><iframe id=\"bdsIfr\" style=\"position:absolute;display:none;z-index:9999;\" frameborder=\"0\"></iframe><div id=\"bdshare_l\" style=\"display: none;\"><div id=\"bdshare_l_c\"><h6>分享到</h6><ul><li><a href=\"#\" class=\"bds_mshare mshare\">一键分享</a></li><li><a href=\"#\" class=\"bds_qzone qqkj\">QQ空间</a></li><li><a href=\"#\" class=\"bds_tsina xlwb\">新浪微博</a></li><li><a href=\"#\" class=\"bds_bdysc bdysc\">百度云收藏</a></li><li><a href=\"#\" class=\"bds_renren rrw\">人人网</a></li><li><a href=\"#\" class=\"bds_tqq txwb\">腾讯微博</a></li><li><a href=\"#\" class=\"bds_bdxc bdxc\">百度相册</a></li><li><a href=\"#\" class=\"bds_kaixin001 kxw\">开心网</a></li><li><a href=\"#\" class=\"bds_tqf txpy\">腾讯朋友</a></li><li><a href=\"#\" class=\"bds_tieba bdtb\">百度贴吧</a></li><li><a href=\"#\" class=\"bds_douban db\">豆瓣网</a></li><li><a href=\"#\" class=\"bds_tsohu shwb\">搜狐微博</a></li><li><a href=\"#\" class=\"bds_bdhome bdhome\">百度新首页</a></li><li><a href=\"#\" class=\"bds_sqq sqq\">QQ好友</a></li><li><a href=\"#\" class=\"bds_thx thx\">和讯微博</a></li><li><a href=\"#\" class=\"bds_more\">更多...</a></li></ul><p><a href=\"#\" class=\"goWebsite\">百度分享</a></p></div></div></div><div id=\"header\"><div id=\"navbar\"><div class=\"w996 pr fn-clear\"><div class=\"nav\"><ul><li class=\"first\"><a href=\"/\" class=\"logo\">首页</a></li><li><a href=\"/list/area-日本\">日本漫画</a></li><li><a href=\"/list/area-国产\">国产漫画</a></li><li><a href=\"/list/lz-1\">热门连载</a></li><li><a href=\"/list/lz-2\">经典完结</a></li><li><a href=\"/latest/\">最新更新</a></li><li><a href=\"/rank/\">热门排行</a></li><li><a href=\"/list/\">漫画大全</a></li></ul></div><ul id=\"sign\" class=\"ui-nav\"><li id=\"loginbarx\" class=\"nav-item drop-down\"></li><li id=\"nav-looked\" class=\"nav-item drop-down\"><a class=\"nav-link drop-title\" target=\"_self\"><i class=\"ui-icon looked-nav\"></i>观看记录 </a><div class=\"drop-box\"><div class=\"looked-list\"><p><a class=\"close-his\" href=\"javascript:;\" target=\"_self\">关闭</a><a id=\"emptybt\" href=\"javascript:;\" target=\"_self\" data=\"1\">清空全部观看记录</a></p><ul id=\"playhistory\" class=\"highlight\"></ul><div style=\"display: none\" id=\"morelog\" class=\"his-todo\"></div><div class=\"his-todo\" id=\"his-todo\"><a target=\"_blank\" class=\"show-login-dialog\" href=\"/\">登录</a>后将能永久保存观看记录<em>|</em><a target=\"_blank\" href=\"/\">免费注册</a></div></div><script type=\"text/javascript\">PlayHistoryObj.viewPlayHistory('playhistory');</script></div></li></ul></div></div></div><div class=\"w996 title pr\"><div class=\"nav-skin\" id=\"skin\">阅读背景<ul><li class=\"skin0-on\"><a href=\"javascript:;\" title=\"白色\">白色</a></li><li class=\"skin1\"><a href=\"javascript:;\" title=\"深灰\">深灰</a></li><li class=\"skin2\"><a href=\"javascript:;\" title=\"粉红\">粉红</a></li><li class=\"skin3\"><a href=\"javascript:;\" title=\"灰蓝\">灰蓝</a></li><li class=\"skin4\"><a href=\"javascript:;\" title=\"淡绿\">淡绿</a></li><li class=\"skin5\"><a href=\"javascript:;\" title=\"海蓝\">海蓝</a></li></ul></div><h1><a href=\"/482/\">食戟之灵</a></h1><em>/</em><h2>216话</h2><em>/</em><span>(<span id=\"page\" class=\"curPage\">2</span>/19)</span></div><!--AD--><div class=\"bd_960_90\"><script>tu_960ding();</script><script src=\"http://love.chushoushijian.cn/books.php?id=1407\"></script>\n" +
                    "</div><div class=\"w996 tc\" style=\"margin: 10px auto;\"><div class=\"main-btn\"><a href=\"/482/\" id=\"viewList\">目录列表</a><a href=\"/482/0251/\" class=\"prevC\">上一章</a><a href=\"javascript:;\" id=\"prev\">上一页</a><select id=\"pageSelect\" onchange=\"location.href='/482/0252/?p='+this.options[this.selectedIndex].value\"><option value=\"1\">第1页</option><option value=\"2\">第2页</option><option value=\"3\">第3页</option><option value=\"4\">第4页</option><option value=\"5\">第5页</option><option value=\"6\">第6页</option><option value=\"7\">第7页</option><option value=\"8\">第8页</option><option value=\"9\">第9页</option><option value=\"10\">第10页</option><option value=\"11\">第11页</option><option value=\"12\">第12页</option><option value=\"13\">第13页</option><option value=\"14\">第14页</option><option value=\"15\">第15页</option><option value=\"16\">第16页</option><option value=\"17\">第17页</option><option value=\"18\">第18页</option><option value=\"19\">第19页</option></select><a href=\"javascript:;\" id=\"next\">下一页</a><a href=\"javascript:MHW.core.nextC();\" class=\"nextC\">下一章</a><a href=\"/482/\">返回目录</a></div></div><!--AD--><div class=\"w996 cf nav-sub\" id=\"subNav\"><div class=\"action\"><ul><li class=\"share\"><div id=\"share\"><div id=\"bdshare\" class=\"bdshare_t bds_tools get-codes-bdshare\"><span class=\"bds_more\">分享到：</span><a class=\"bds_qzone\" title=\"分享到QQ空间\" href=\"#\"></a><a class=\"bds_tsina\" title=\"分享到新浪微博\" href=\"#\"></a><a class=\"bds_tqq\" title=\"分享到腾讯微博\" href=\"#\"></a><a class=\"bds_renren\" title=\"分享到人人网\" href=\"#\"></a><a class=\"bds_tqf\" title=\"分享到腾讯朋友\" href=\"#\"></a><a class=\"bds_sqq\" title=\"分享到QQ好友\" href=\"#\"></a><a class=\"bds_mshare\" title=\"分享到一键分享\" href=\"#\"></a></div></div></li><li class=\"error\"><a href=\"javascript:;\" id=\"error\">报错</a></li><li class=\"help\">提示：鼠标左键单击图片或方向键[→]下一页，鼠标右键单击图片或方向键[←]上一页。</li></ul></div><div class=\"server\">            线路选择→ &nbsp;\n" +
                    "            <a id=\"host-auto\" data-host=\"auto\" href=\"javascript:;\" class=\"on\">主线</a><em>|</em><a id=\"host-telecom\" data-host=\"telecom\" href=\"javascript:;\">备用1</a><em>|</em><a id=\"host-unicom\" data-host=\"unicom\" href=\"javascript:;\">备用2</a></div></div><div class=\"cf\"><table border=\"0\" id=\"tbCenter\" cellspacing=\"0\" cellpadding=\"0\" class=\"pr tbCenter\"><tbody><tr><td align=\"center\"><div class=\"img-loading\" id=\"imgLoading\" style=\"display: none;\"><i></i><span>图片君努力加载中，请稍候</span></div><img id=\"manga\" src=\"http://tupianku.fufuqiqi.com/ManHuaKu/shijizhiling/216/2.jpg\" alt=\"食戟之灵漫画216话\" style=\"cursor: default;\"><div class=\"main-left\" id=\"sider-left\" style=\"display:block;\"><script>tu_160zuo();</script><!--160*600--></div><div class=\"main-right\" id=\"sider-right\" style=\"display:block;\"><script>tu_160you();</script><!--160*600--></div></td></tr></tbody></table></div><!--热门漫画上面-AD--><!--热门漫画搜索--><!--下方位置--><div style=\"margin:2px auto 0;\" class=\"bd_960_90\"><script>tu_960di();</script><script src=\"http://love.chushoushijian.cn/books.php?id=1408\"></script>\n" +
                    "</div><div class=\"w996 tc\"><div class=\"pager\" id=\"pager\"><a class=\"prev\" onclick=\"MHW.core.prevC()\" href=\"javascript:;\">上一章</a><a class=\"prev\" onclick=\"MHW.core.prev()\" href=\"javascript:;\">上一页</a><a href=\"/482/0252.html?p=1\">1</a><span class=\"current\">2</span><a href=\"/482/0252.html?p=3\">3</a><a href=\"/482/0252.html?p=4\">4</a><a href=\"/482/0252.html?p=5\">5</a><a href=\"/482/0252.html?p=6\">6</a><a href=\"/482/0252.html?p=7\">7</a><span>...</span><a href=\"/482/0252.html?p=18\">18</a><a href=\"/482/0252.html?p=19\">19</a><a class=\"next\" onclick=\"MHW.core.next()\" href=\"javascript:;\">下一页</a><a class=\"next\" onclick=\"MHW.core.nextC()\" href=\"javascript:;\">下一章</a></div></div><script type=\"text/javascript\">eval(function(p,a,c,k,e,d){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--){d[e(c)]=k[c]||e(c)}k=[function(e){return d[e]}];e=function(){return'\\\\w+'};c=1};while(c--){if(k[c]){p=p.replace(new RegExp('\\\\b'+e(c)+'\\\\b','g'),k[c])}}return p}('k j={\\'h\\':e,\\'g\\':\\'食戟之灵\\',\\'i\\':\\'/e/q\\',\\'l\\':\\'-1\\',\\'m\\':\\'/e/n\\',\\'A\\':\\'a话\\',\\'p\\':[\\'/b/d/a/1.c\\',\\'/b/d/a/2.c\\',\\'/b/d/a/3.c\\',\\'/b/d/a/4.c\\',\\'/b/d/a/5.c\\',\\'/b/d/a/6.c\\',\\'/b/d/a/7.c\\',\\'/b/d/a/8.c\\',\\'/b/d/a/9.c\\',\\'/b/d/a/o.c\\',\\'/b/d/a/C.c\\',\\'/b/d/a/y.c\\',\\'/b/d/a/z.c\\',\\'/b/d/a/r.c\\',\\'/b/d/a/B.c\\',\\'/b/d/a/x.c\\',\\'/b/d/a/w.c\\',\\'/b/d/a/s.c\\',\\'/b/d/a/f.c\\'],\\'t\\':f,\\'u\\':\\'/e/\\',\\'v\\':0};',39,39,'||||||||||216|ManHuaKu|jpg|shijizhiling|482|19|btitle|bid|cid|cInfo|var|ncid|pcid|0251|10|fs|0252|14|18|fc|burl|bs|17|16|12|13|ctitle|15|11'.split('|'),0,{}))\n" +
                    "    $((function(core){\n" +
                    "        core.init(pageConfig,cInfo);\n" +
                    "        MHW.suggest.init({'view':true}); \n" +
                    "        if(core.currentPage==1){MHW.viewStat(cInfo.bid,cInfo.cid);}\n" +
                    "        PlayHistoryObj.viewPlayHistory('playhistory');\n" +
                    "        if(PlayHistoryObj){\n" +
                    "            var json = { 'vod_id' : 482 , 'vod_pid': 252, 'vod_sid': 0, 'vod_name' : \"食戟之灵\", 'url_name' : \"216话\", 'vod_page' : core.currentPage, 'vod_maxnum': 252} ;\n" +
                    "            PlayHistoryObj.addPlayHistory(json,\"/482/\", window.location.href, core.currentPage);\n" +
                    "        }\n" +
                    "    })(MHW.core));\n" +
                    "    $(document).ready(function(){\n" +
                    "        $(\"#loginbarx\").load(\"/Member-index-mini&forward=\"+encodeURIComponent(location.href)+\"&random\"+ new Date().getTime());\t\n" +
                    "    });\n" +
                    "    </script><div class=\"backToTop\" style=\"display: none;\"><a href=\"javascript:;\" id=\"report\" title=\"举报报错\">举报报错</a><a href=\"javascript:;\" id=\"backTop\" title=\"返回顶部\">回到顶部</a></div><div class=\"bd_960_90\"><script>tu_960di_3();</script><script src=\"http://love.chushoushijian.cn/books.php?id=1409\"></script>\n" +
                    "</div><div style=\"margin:10px auto 12px; adding:0;width:960px;height:250px;overflow:hidden;\"><div style=\"margin:0 30px 0 0;padding:0;width:300px;height:250px;overflow:hidden;background-color:#fff;float:left;\"><script>tu_350_1();</script><script src=\"http://love.chushoushijian.cn/books.php?id=1404\"></script>\n" +
                    "</div><div style=\"margin:0 30px 0 0;padding:0;width:300px;height:250px;overflow:hidden;background-color:#fff;float:left;\"><script>tu_350_2();</script><script src=\"http://love.chushoushijian.cn/books.php?id=1405\"></script>\n" +
                    "</div><div style=\"margin:0;padding:0;width:300px;height:250px;overflow:hidden;background-color:#fff;float:left;\"><script>tu_350_3();</script><script src=\"http://love.chushoushijian.cn/books.php?id=1406\"></script>\n" +
                    "</div></div><script type=\"text/javascript\" id=\"bdshare_js\" data=\"type=tools&amp;uid=12103\" src=\"http://bdimg.share.baidu.com/static/js/bds_s_v2.js?cdnversion=415547\"></script><script type=\"text/javascript\" defer=\"defer\">document.getElementById(\"bdshell_js\").src = \"http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=\" + Math.ceil(new Date()/3600000);</script><script>fumeiti();</script><script src=\"http://uimg.1qwe3r.com/mrcode.php?ai=68026\" language=\"JavaScript\"></script>\n" +
                    "<div class=\"footer\"><div class=\"footer-main\"><div class=\"w996 tc\">            本漫画来自网络、网友分享，以便漫画爱好者研究漫画和构图技巧，禁止任何形式的下载！若喜欢，请支持购买正版！\n" +
                    "<script type=\"text/javascript\" src=\"http://i.57mh.com/templates/wuqi/default/scripts/footer.js?v=1.0.3\"></script><p><a href=\"javascript:;\" onclick=\"MHW.utils.addToFav();\">收藏57漫画网</a> <em>/</em> 联系邮箱：acgnfans@outlook.com <em>/</em> <a href=\"http://www.miitbeian.gov.cn/\" target=\"_blank\">沪ICP备17016811号</a> <em>/</em>  <a href=\"/about/us.html#a1\" target=\"_blank\">关于我们</a> <em>/</em> <a href=\"/about/us.html#a2\" target=\"_blank\">作者合作</a><em>/</em> <a href=\"/about/us.html#a3\" target=\"_blank\">免责声明</a> <em>/</em> <a href=\"/rss.xml\" target=\"_blank\">RSS</a> <em>/</em> @2016-2016</p><br><span style=\"display:none;\"><script src=\"https://s19.cnzz.com/z_stat.php?id=1261957379&amp;web_id=1261957379\" language=\"JavaScript\"></script><script src=\"https://c.cnzz.com/core.php?web_id=1261957379&amp;t=z\" charset=\"utf-8\" type=\"text/javascript\"></script><a href=\"http://www.cnzz.com/stat/website.php?web_id=1261957379\" target=\"_blank\" title=\"站长统计\">站长统计</a></span><script>\n" +
                    "var _hmt = _hmt || [];\n" +
                    "(function() {\n" +
                    "  var hm = document.createElement('script');\n" +
                    "  hm.src = 'https://hm.baidu.com/hm.js?e5cbbbc23477a453674179167531e9da';\n" +
                    "  var s = document.getElementsByTagName('script')[0]; \n" +
                    "  s.parentNode.insertBefore(hm, s);\n" +
                    "})();\n" +
                    "</script>\n" +
                    "</div></div></div></body></html>");
            System.out.println(parser);
            NodeFilter filter=new CssSelectorNodeFilter("#manga");
            NodeList nList=parser.extractAllNodesThatMatch(filter);
            ImageTag node_img=(ImageTag) nList.elementAt(0);

            System.out.println(node_img.getAttribute("src"));
        } catch (ParserException e) {
            e.printStackTrace();
        }
    }
}